<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="com.ssafit.model.dao.ReviewDao">

   <!-- 리뷰 등록 -->
   <insert id="insertReview" parameterType="Review">
       INSERT INTO reviews (video_id, user_id, content)
       VALUES (#{videoId}, #{userId}, #{content})
   </insert>
   
   <!-- 특정 비디오의 리뷰 목록 조회 -->
   <select id="selectReviewsByVideo" parameterType="int" resultType="Review">
       SELECT *
       FROM reviews 
       WHERE video_id = #{videoId}
       ORDER BY created_at DESC
   </select>
   
   <!-- 리뷰 수정 -->
   <update id="updateReview" parameterType="Review">
       UPDATE reviews 
       SET content = #{content}
       WHERE review_id = #{reviewId}
   </update>
   
   <!-- 리뷰 삭제 -->
   <delete id="deleteReview" parameterType="int">
       DELETE FROM reviews 
       WHERE review_id = #{reviewId}
   </delete>
   
   <!-- 리뷰 상세 조회 -->
   <select id="selectReview" parameterType="int">
   	SELECT * 
   	FROM reviews
   	WHERE review_id = #{reviewId};
   </select>

</mapper>